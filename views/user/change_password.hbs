<section class="form">
  <div class="container">
    <div class="row">
      <div class="col-lg-6 login-image">
        <img
          src="/images/bicycles-page-rockfire-ridge-29.webp"
          class="img-fluid rounded"
          alt=""
          onclick="location.href = '/home'"
        />
      </div>
      <div class="col-lg-6 d-flex justify-content-center position-relative">
        <div style="width: 460px;">
          <div class="d-flex justify-content-center logo">
            <img src="/images/clipart1345268.png" width="90px" alt="" />
          </div>
          <div class="d-flex justify-content-center mt-2 mb-2 fs-3">
            <span>Change Password</span>
          </div>
          <form action="/submit_password/?_method=PATCH" method="POST">
            <div class="warning">
              <div class="warning-msg d-flex">
                <span class="form-empty-changepassword form-empty">Fill the form</span>
              </div>
            </div>
            <div class="col-lg-12 mb-4">
              <input
                type="password"
                name="password"
                id="password"
                placeholder="password"
              />
            </div>
            <div class="col-lg-12">
              <input
                type="password"
                
                id="confirm-password"
                placeholder="Confirm-Password*"
              />
            </div>
            <div class="warning">
              <div class="warning-msg d-flex">
                <span class="password-match form-empty">Password Does not Match</span>
              </div>
            </div>
            <div class="col-lg-12">
              <button type="submit" class="btn btn-dark button-create">Change
                Password</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>
<script>
   const formEmpty = document.querySelector('.form-empty-changepassword')
   const form = document.querySelector('form')
   const passwordNotMatch = document.querySelector('.password-match ')
   const password = document.getElementById("password")
   const confirmPassword =document.getElementById("confirm-password")


   const hasSpecialCharacter = /[!@#$%^&*(),.?":{}|<>]/;

   // Check for an alphabet character
   const hasAlphabet = /[a-zA-Z]/;

   // Check for a numeric character
    const hasNumber = /\d/;

   form.addEventListener('submit' ,(event) => {
    if(password.value.trim() ==="" || confirmPassword.value.trim() ===""){
         validatechangePassword(formEmpty, 'Fill the Fields',event)
         
    }else{
      if(hasSpecialCharacter.test(password.value)){
          if(hasAlphabet.test(password.value)){
            if(hasNumber.test(password.value)){
              if(password.value.length >= 8){
                 if(password.value.trim() === confirmPassword.value.trim()){

                }else{
                 validatechangePassword(formEmpty,'Password does not match' ,event)
                }
              }else{
                validatechangePassword(formEmpty,'Password ateast have 8 charecters' ,event)

              }
              

            }else{
               validatechangePassword(formEmpty,'Password must contain Numbers' ,event)
          }
            

          }else{
             validatechangePassword(formEmpty,'Password must contain Alphabets' ,event)
          }
        }else{
           validatechangePassword(formEmpty,'Password must contain Special charecters' ,event)
            
        }

    }
     
     })
    

    
        

function validatechangePassword(notvalid, message, event) {
  event.preventDefault();
  notvalid.innerHTML = message;
  notvalid.classList.add("valid");
  setTimeout(() => {
    notvalid.classList.remove("valid");
  }, 2000);
}
   
</script>