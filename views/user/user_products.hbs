<section class="product-third-section">
  <div class="third-section">
    <div class="filter-box pb-2">
      <div class="fs-6 filters bg-white">
        <span><i class="fa-solid me-2 ms-1 fa-sliders"></i>FILTERS</span>
        <span class="filter-reset btn">RESET</span>
      </div>
      <div class="bg-white filters mt-2 mx-2 rounded">
        <span class="filter-tag">Users</span>
        <i class="fa-solid user-filter fa-plus"></i>
      </div>
      <!-- for sub filters container -->
      <div class="user-sub-filter user-subfilter">
        <div class="bg-light-subtle filters mt-2 mx-2 rounded">
          <div class="d-flex align-items-center">
            <input
              class="form-check-input mt-0 filter-checkbox"
              type="checkbox"
              value="Kid"
              id="filter-checkbox"
              aria-label="Checkbox for following text input"
            />
            <span class="ms-3 filter-tag">Kid</span>
          </div>

        </div>
        <div class="bg-light-subtle filters mt-2 mx-2 rounded">
          <div class="d-flex align-items-center">
            <input
              class="form-check-input mt-0 filter-checkbox"
              type="checkbox"
              value="Boys"
              id="filter-checkbox"
              aria-label="Checkbox for following text input"
            />
            <span class="ms-3 filter-tag">Boys</span>
          </div>

        </div><div class="bg-light-subtle filters mt-2 mx-2 rounded">
          <div class="d-flex align-items-center">
            <input
              class="form-check-input mt-0 filter-checkbox"
              type="checkbox"
              value="Girls"
              id="filter-checkbox"
              aria-label="Checkbox for following text input"
            />
            <span class="ms-3 filter-tag">Girls</span>
          </div>

        </div><div class="bg-light-subtle filters mt-2 mx-2 rounded">
          <div class="d-flex align-items-center">
            <input
              class="form-check-input mt-0 filter-checkbox"
              type="checkbox"
              value="Men"
              id="filter-checkbox"
              aria-label="Checkbox for following text input"
            />
            <span class="ms-3 filter-tag">Men</span>
          </div>

        </div><div class="bg-light-subtle filters mt-2 mx-2 rounded">
          <div class="d-flex align-items-center">
            <input
              class="form-check-input mt-0 filter-checkbox"
              type="checkbox"
              value="Women"
              id="filter-checkbox"
              aria-label="Checkbox for following text input"
            />
            <span class="ms-3 filter-tag">Women</span>
          </div>

        </div>
        <div class="bg-light-subtle filters mt-2 mx-2 rounded">
          <div class="d-flex align-items-center">
            <input
              class="form-check-input mt-0 filter-checkbox"
              type="checkbox"
              value="Unisex"
              id="filter-checkbox"
              aria-label="Checkbox for following text input"
            />
            <span class="ms-3 filter-tag">Unisex</span>
          </div>

        </div>
      </div>
      <!---->
      <!--Brand Fiter-->
      <div class="bg-white filters mt-2 mx-2 rounded">
        <span class="filter-tag">Brands</span>
        <i class="brand-filter fa-solid fa-plus"></i>
      </div>
      <!-- Brand Sub filter-->
      <div class="brand-sub-filter brand-subfilter">
        <div class="bg-light-subtle filters mt-2 mx-2 rounded">
          <div class="d-flex align-items-center">
            <input
              class="form-check-input mt-0 filter-checkbox"
              type="checkbox"
              value="Polygon"
              id="filter-checkbox"
              aria-label="Checkbox for following text input"
            />
            <span class="ms-3 filter-tag">Polygon</span>
          </div>

        </div>
        <div class="bg-light-subtle filters mt-2 mx-2 rounded">
          <div class="d-flex align-items-center">
            <input
              class="form-check-input mt-0 filter-checkbox"
              type="checkbox"
              value="Java"
              id="filter-checkbox"
              aria-label="Checkbox for following text input"
            />
            <span class="ms-3 filter-tag">Java</span>
          </div>

        </div><div class="bg-light-subtle filters mt-2 mx-2 rounded">
          <div class="d-flex align-items-center">
            <input
              class="form-check-input mt-0 filter-checkbox"
              type="checkbox"
              value="XCI"
              id="filter-checkbox"
              aria-label="Checkbox for following text input"
            />
            <span class="ms-3 filter-tag">XCi</span>
          </div>

        </div><div class="bg-light-subtle filters mt-2 mx-2 rounded">
          <div class="d-flex align-items-center">
            <input
              class="form-check-input mt-0 filter-checkbox"
              type="checkbox"
              value="Ninety One"
              id="filter-checkbox"
              aria-label="Checkbox for following text input"
            />
            <span class="ms-3 filter-tag">Ninety One</span>
          </div>

        </div>
        <div class="bg-light-subtle filters mt-2 mx-2 rounded">
          <div class="d-flex align-items-center">
            <input
              class="form-check-input mt-0 filter-checkbox"
              type="checkbox"
              value="Triad"
              id="filter-checkbox"
              aria-label="Checkbox for following text input"
            />
            <span class="ms-3 filter-tag">Triad</span>
          </div>

        </div>
        <div class="bg-light-subtle filters mt-2 mx-2 rounded">
          <div class="d-flex align-items-center">
            <input
              class="form-check-input mt-0 filter-checkbox"
              type="checkbox"
              value="Avantio"
              id="filter-checkbox"
              aria-label="Checkbox for following text input"
            />
            <span class="ms-3 filter-tag">Avantio</span>
          </div>

        </div>
        <div class="bg-light-subtle filters mt-2 mx-2 rounded">
          <div class="d-flex align-items-center">
            <input
              class="form-check-input mt-0 filter-checkbox"
              type="checkbox"
              value="Rockfire"
              id="filter-checkbox"
              aria-label="Checkbox for following text input"
            />
            <span class="ms-3 filter-tag">Rockfire</span>
          </div>

        </div>
        <div class="bg-light-subtle filters mt-2 mx-2 rounded">
          <div class="d-flex align-items-center">
            <input
              class="form-check-input mt-0 filter-checkbox"
              type="checkbox"
              value="Montra"
              id="filter-checkbox"
              aria-label="Checkbox for following text input"
            />
            <span class="ms-3 filter-tag">Montra</span>
          </div>

        </div>
        <div class="bg-light-subtle filters mt-2 mx-2 rounded">
          <div class="d-flex align-items-center">
            <input
              class="form-check-input mt-0 filter-checkbox"
              type="checkbox"
              value="Unirox"
              id="filter-checkbox"
              aria-label="Checkbox for following text input"
            />
            <span class="ms-3 filter-tag">Unirox</span>
          </div>

        </div>
        <div class="bg-light-subtle filters mt-2 mx-2 rounded">
          <div class="d-flex align-items-center">
            <input
              class="form-check-input mt-0 filter-checkbox"
              type="checkbox"
              value="Merida"
              id="filter-checkbox"
              aria-label="Checkbox for following text input"
            />
            <span class="ms-3 filter-tag">Merida</span>
          </div>

        </div>
        <div class="bg-light-subtle filters mt-2 mx-2 rounded">
          <div class="d-flex align-items-center">
            <input
              class="form-check-input mt-0 filter-checkbox"
              type="checkbox"
              value="Vector"
              id="filter-checkbox"
              aria-label="Checkbox for following text input"
            />
            <span class="ms-3 filter-tag">Vector</span>
          </div>

        </div>
      </div>
      <!--speed filter -->
      <div class="bg-white filters mt-2 mx-2 rounded">
        <span class="filter-tag">Speed</span>
        <i class="fa-solid speed-filter fa-plus"></i>
      </div>
      <!-- speed sub filter-->
      <div class="speed-subfilter speed-sub-filter">
        <div class="bg-light-subtle filters mt-2 mx-2 rounded">
          <div class="d-flex align-items-center">
            <input
              class="form-check-input mt-0 filter-checkbox"
              type="checkbox"
              value="7 speed"
              id="filter-checkbox"
              aria-label="Checkbox for following text input"
            />
            <span class="ms-3 filter-tag">7 Speed</span>
          </div>

        </div>
        <div class="bg-light-subtle filters mt-2 mx-2 rounded">
          <div class="d-flex align-items-center">
            <input
              class="form-check-input mt-0 filter-checkbox"
              type="checkbox"
              value="21 Speed"
              id="filter-checkbox"
              aria-label="Checkbox for following text input"
            />
            <span class="ms-3 filter-tag">21 Speed</span>
          </div>

        </div>
        <div class="bg-light-subtle filters mt-2 mx-2 rounded">
          <div class="d-flex align-items-center">
            <input
              class="form-check-input mt-0 filter-checkbox"
              type="checkbox"
              value="Single Speed"
              id="filter-checkbox"
              aria-label="Checkbox for following text input"
            />
            <span class="ms-3 filter-tag">Single Speed</span>
          </div>

        </div>
        <div class="bg-light-subtle filters mt-2 mx-2 rounded">
          <div class="d-flex align-items-center">
            <input
              class="form-check-input mt-0 filter-checkbox"
              type="checkbox"
              value="18 Speed"
              id="filter-checkbox"
              aria-label="Checkbox for following text input"
            />
            <span class="ms-3 filter-tag">18 Speed</span>
          </div>

        </div>
      </div>
      <!-- category filter -->
      <div class="bg-white filters mt-2 mx-2 rounded">
        <span class="filter-tag">Category</span>
        <i class="fa-solid category-filter fa-plus"></i>
      </div>
      <!-- category sub filter-->
      <div class="category-subfilter cat-sub-filter">
        {{#each category}}
          <div class="bg-light-subtle filters mt-2 mx-2 rounded">
            <div class="d-flex align-items-center">
              <input
                class="form-check-input mt-0 filter-checkbox"
                type="checkbox"
                value="{{this._id}}"
                aria-label="Checkbox for following text input"
              />
              <span class="ms-3 filter-tag">{{this.categoryName}}</span>
            </div>

          </div>
        {{/each}}
      </div>

    </div>
    <div class="product-page">
      <div class="row" id="productInfoContainer">
        {{#if product}}
        {{#each product}}
          <div class="col-lg-3 col-12 col-md-4 col-sm-6 product">
            <div class="bg-white mb-4 product-container">
              <div class="d-flex justify-content-between align-items-center">
                <label
                  class="fs-5"
                  style="font-weight: 700; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"
                >{{this.productName}}</label>
                {{#if ../userInfo}}
                 <i
                  data-product-id={{this._id}}
                  class="whishlist-button fa-regular fa-heart"
                ></i>
                {{else}}
                 <i
                  onclick="location.href='/user_login'"
                  class="whishlist-button fa-regular fa-heart"
                ></i>
                {{/if}}
               
              </div>
              <div
                class="d-flex mt-2 justify-content-center view-product product-image"
                data-product-id={{this._id}}
              >

                <img
                  src="/uploads/{{arrayIndex this.images 0}}"
                  style="height: 100%; object-fit:cover;"
                />

              </div>
              <div class="product-description" style="height: 100px;">
                {{#each (filterEmptyStrings this.description)}}
                  <label class="text-truncate">
                    <i class="fa-regular fa-circle"></i>
                    {{this}}
                  </label>
                {{/each}}

              </div>
              <div
                style="margin-top:30px; margin-right: 12px; margin-left:12px; border: 0.6px solid #bdbdbd;"
              ></div>
              <div class="mt-3">
                <div>
                  <label class="d-flex align-items-end">
                    <div class="original-price">Price:</div>
                    <span class="discount-price">{{this.price}}</span>
                  </label>

                </div>
                <div class="d-flex justify-content-end mt-2">
                  {{#if ../userInfo}}
                   <button
                    id="buynow-button"
                    data-product-id="{{this._id}}"
                    data-product-frame="{{this.frameSize}}"
                    data-product-color="{{this.color}}"
                    data-user-id = "{{../userInfo._id}}"
                    data-product-quantity="{{this.quantity}}"
                    class="btn btn-danger d-flex align-items-center justify-content-center"
                  >
                    <span class="buy-now">BUY NOW</span>
                  </button>
                  {{else}}
                    <button
                      id="buynow-button"
                      onclick="location.href='/user_login'"
                      class="btn btn-danger d-flex align-items-center justify-content-center"
                    >
                      <span class="buy-now">BUY NOW</span>
                    </button>
                  {{/if}}
                  
                </div>
              </div>
            </div>
          </div>
        {{/each}}
        {{else}}
         <div class="d-flex justify-content-center">
          <span class="fs-4 text-secondary">No results Found<i class="ms-2 fa-solid fa-face-sad-tear"></i></span>
        </div>
        {{/if}}
      </div>
      <nav aria-label="Page navigation">
       <ul class="pagination justify-content-center mt-4">
       {{#if totalProduct}}
         {{#eachPages totalProduct}}
        {{#ifCond ../currentPage this}}
          <li class="page-item active m-0">
            <a href="?page={{this}}" class="page-link">{{this}}</a>
          </li>
        {{else}}
          <li class="page-item">
            <a href="?page={{this}}" class="page-link">{{this}}</a>
          </li>
        {{/ifCond}}
      {{/eachPages}}
    {{/if}}
  </ul>
</nav>

    </div>

  </div>
</section>